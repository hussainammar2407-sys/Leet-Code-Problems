#include <limits.h>

int divide(int dividend, int divisor) {
    // Handle overflow case
    if (dividend == INT_MIN && divisor == -1)
        return INT_MAX;

    long long a = llabs((long long)dividend);
    long long b = llabs((long long)divisor);
    int result = 0;

    while (a >= b) {
        long long temp = b;
        int multiple = 1;

        // Shift until we can't subtract more
        while ((temp << 1) <= a) {
            temp <<= 1;
            multiple <<= 1;
        }

        a -= temp;
        result += multiple;
    }

    // Determine sign
    if ((dividend < 0) ^ (divisor < 0))
        result = -result;

    return result;
}
